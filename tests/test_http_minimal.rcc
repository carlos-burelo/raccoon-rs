import { httpPost, parseJson } from "std:http"

async fn main(): void {
    let res = await httpPost(
        "https://httpbin.org/post",
        { name: "Carlos" },
        { Authorization: "Bearer token" }
    )

    print("Status:", res["status"])
    print("Body length:", len(res["body"]))

    let data = parseJson(res["body"])
    print("Data type:", typeof(data))
    print("Data:", data)
}

await main()
