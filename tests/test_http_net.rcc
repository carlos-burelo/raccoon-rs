import * as http from "std:net"

async fn main(): void {
    print("Testing HTTP module with named parameters...")

    // Test 1: Simple GET with headers
    let res = await http.post(
        "https://api.example.com/user",
        body: { "name": "Carlos" },
        headers: { "Authorization": "Bearer token123" }
    )

    if (res.status == 201) {
        print("✓ POST request successful!")
        print("  Status:", res.status)
        print("  Status Text:", res.statusText)
    }

    // Test 2: Check helper functions
    if (http.isOk(res)) {
        print("✓ Response is OK")
    }

    // Test 3: String literals as object keys
    let data = {
        "name": "Carlos",
        "age": 25,
        "Content-Type": "application/json"
    }
    print("✓ Object with string literal keys:", data)

    print("\nAll tests passed!")
}

await main()
