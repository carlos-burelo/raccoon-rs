// Test for string stdlib high-level functions
import {
    capitalize,
    title_case,
    is_empty,
    truncate,
    pad_left,
    pad_right,
    center,
    is_palindrome,
    count,
    remove,
    is_alpha,
    is_numeric,
    is_alphanumeric,
    reverse_words,
    repeat_with_sep,
    lines,
    starts_with_any,
    ends_with_any
} from "std:string";

print("=== Testing String Stdlib ===\n");

// Test capitalize
print("Testing capitalize:");
print("  capitalize('hello'):", capitalize("hello"));
print("  capitalize('WORLD'):", capitalize("WORLD"));
print("  capitalize(''):", capitalize(""));
print("");

// Test title_case
print("Testing title_case:");
print("  title_case('hello world'):", title_case("hello world"));
print("  title_case('the quick brown fox'):", title_case("the quick brown fox"));
print("");

// Test is_empty
print("Testing is_empty:");
print("  is_empty(''):", is_empty(""));
print("  is_empty('hello'):", is_empty("hello"));
print("");

// Test truncate
print("Testing truncate:");
print("  truncate('Hello World', 5, '...'):", truncate("Hello World", 5, "..."));
print("  truncate('Hi', 10, '...'):", truncate("Hi", 10, "..."));
print("");

// Test padding
print("Testing padding:");
print("  pad_left('42', 5, '0'):", pad_left("42", 5, "0"));
print("  pad_right('42', 5, '0'):", pad_right("42", 5, "0"));
print("");

// Test is_palindrome
print("Testing is_palindrome:");
print("  is_palindrome('racecar'):", is_palindrome("racecar"));
print("  is_palindrome('hello'):", is_palindrome("hello"));
print("  is_palindrome('A'):", is_palindrome("A"));
print("  is_palindrome(''):", is_palindrome(""));
print("");

// Test count
print("Testing count:");
print("  count('hello hello', 'll'):", count("hello hello", "ll"));
print("  count('banana', 'a'):", count("banana", "a"));
print("  count('test', 'x'):", count("test", "x"));
print("");

// Test remove
print("Testing remove:");
print("  remove('hello world', 'l'):", remove("hello world", "l"));
print("  remove('test', 'x'):", remove("test", "x"));
print("");

// Test character type checks
print("Testing character type checks:");
print("  is_alpha('hello'):", is_alpha("hello"));
print("  is_alpha('hello123'):", is_alpha("hello123"));
print("  is_numeric('12345'):", is_numeric("12345"));
print("  is_numeric('123a5'):", is_numeric("123a5"));
print("  is_alphanumeric('hello123'):", is_alphanumeric("hello123"));
print("  is_alphanumeric('hello-123'):", is_alphanumeric("hello-123"));
print("");

// Test reverse_words
print("Testing reverse_words:");
print("  reverse_words('hello world'):", reverse_words("hello world"));
print("  reverse_words('the quick brown fox'):", reverse_words("the quick brown fox"));
print("");

// Test repeat_with_sep
print("Testing repeat_with_sep:");
print("  repeat_with_sep('ha', 3, '-'):", repeat_with_sep("ha", 3, "-"));
print("  repeat_with_sep('x', 0, ','):", repeat_with_sep("x", 0, ","));
print("");

// Test lines
print("Testing lines:");
let text = "line1\nline2\nline3";
let text_lines = lines(text);
print("  lines('line1\\nline2\\nline3'):");
for (let i = 0; i < native_array_length(text_lines); i = i + 1) {
    print("    ", text_lines[i]);
}
print("");

// Test starts_with_any / ends_with_any
print("Testing starts_with_any / ends_with_any:");
let prefixes: str[] = ["hello", "hi", "hey"];
let suffixes: str[] = [".txt", ".md", ".rs"];
print("  starts_with_any('hello world', prefixes):", starts_with_any("hello world", prefixes));
print("  starts_with_any('goodbye', prefixes):", starts_with_any("goodbye", prefixes));
print("  ends_with_any('file.txt', suffixes):", ends_with_any("file.txt", suffixes));
print("  ends_with_any('file.js', suffixes):", ends_with_any("file.js", suffixes));
print("");

print("All string stdlib tests completed!");
